// app/javascript/loading.js.erb
document.addEventListener('turbo:load', () => {
  const includedPaths = [ '/', '/product', '/project', '/client', '/software' ];
  if (!includedPaths.includes(window.location.pathname) || performance.navigation.type === performance.navigation.TYPE_RELOAD) {
    return;
  }

  const loadingLogo = document.createElement('img');
  loadingLogo.src = '<%= asset_path("logo.png") %>';
  loadingLogo.id = 'loading-logo';

  const loadingBackground = document.createElement('div');
  loadingBackground.id = 'loading-background';

  document.body.appendChild(loadingBackground);
  document.body.appendChild(loadingLogo);

  setTimeout(() => {
    loadingLogo.remove();
    loadingBackground.remove();
  }, 1500);
});